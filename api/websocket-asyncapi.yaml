asyncapi: 2.6.0
id: "https://quizzit.hdm-stuttgart.de"
defaultContentType: application/json
tags:
  - name: "sender:backend"
    description: Event sent by the backend (e.G. 'game')
  - name: "sender:client"
    description: Event sent by the client (e.G. 'player')
info:
  title: Quizzit
  description: An adaptive hybrid boardgame
  version: 0.1.0
  license:
    name: not licensed
  contact:
    name: "H3rby7"
    email: "H3rby7@users.noreply.github.com"
    url: "https://github.com/h3rby7"
servers:
  local:
    url: localhost
    protocol: websocket
    description: Local development
channels:
  game/question/prompt:
    subscribe:
      tags:
      - name: "sender:backend"
      operationId: "game-question-prompt-01"
      message:
        messageId: "game-question-prompt-01"
        description: An event prompting a player to answer a question.
        payload:
          $ref: "#/components/schemas/Question"
  player/question/submit-answer:
    subscribe:
      tags:
      - name: "sender:client"
      operationId: "player-question-submit-answer-01"
      message:
        messageId: "player-question-submit-answer-01"
        description: An event containing the player's answer to a question
        payload:
          $ref: "#/components/schemas/SubmitAnswer"
  game/question/correctness-feedback:
    subscribe:
      tags:
      - name: "sender:backend"
      operationId: "game-question-evaluation-01"
      message:
        messageId: "game-question-evaluation-01"
        description: Backend informs player of right/wrong choice.
        payload:
          $ref: "#/components/schemas/CorrectnessFeedback"
components:
  schemas:
    Id:
      title: Identifier
      description: A unique ID
      type: string
    PossibleAnswer:
      title: Possible Answer
      description: One possible answer to a question.
      type: object
      properties:
        id:
          $ref: "#/components/schemas/Id"
        text:
          title: Text
          description: The actual answer text to be displayed to the player during the game.
          type: string
      required:
        - id
        - text
    Question:
      title: Question
      description: Represents a question inside the game
      type: object
      properties:
        id:
          $ref: "#/components/schemas/Id"
        query:
          type: string
          description: The actual question text.
        answers:
          title: Possible answers
          description: The possible, not necessarily correct, answers.
          type: array
          minItems: 4
          maxItems: 4
          items:
            $ref: "#/components/schemas/PossibleAnswer"
      required:
        - id
        - query
        - answers
    SubmitAnswer:
      title: Submit Answer
      description: The submitted answer of a player to a question.
      type: object
      properties:
        questionId:
          $ref: "#/components/schemas/Id"
          description: The ID of the question the player is answering.
        answerId:
          $ref: "#/components/schemas/Id"
          description: The ID of the chosen/submitted answer of the player.
      required:
        - questionId
        - answerId
    CorrectnessFeedback:
      title: Correctness Feedback
      description: Feedback on the correctness of an answer.
      type: object
      properties:
        chosenAnswerId:
          $ref: "#/components/schemas/Id"
          description: The ID of the answer that was selected by the player.
        correctAnswerId:
          $ref: "#/components/schemas/Id"
          description: The ID of the answer that is the correct answer to the posed question.
      required:
        - chosenAnswerId
        - correctAnswerId